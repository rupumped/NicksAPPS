<!DOCTYPE html>
<html lang="en-US">
<head>
	<title>Flexible JSON Beautifier</title>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">

	<!-- SEO Description -->
	<meta name="author" content="Nicholas S. Selby">
	<meta name="description" content="A flexible JSON beautifier that handles JavaScript object notation without strict validation">
	<link rel="canonical" href="https://rupumped.github.io/NicksAPPS/JavaScript/flexible-json-beautifier.html">

	<!-- Open Graph Tags -->
	<meta property="og:title" content="Flexible JSON Beautifier">
	<meta property="og:description" content="A flexible JSON beautifier that handles JavaScript object notation without strict validation">
	<meta property="og:image" content="https://rupumped.github.io/og-image.jpg">
	<meta property="og:image:width" content="1498">
	<meta property="og:image:height" content="778">
	<meta property="og:image:alt" content="Nicholas Selby: Engineering that Centers Users and Their Communities">
	<meta property="og:url" content="https://rupumped.github.io/NicksAPPS/JavaScript/flexible-json-beautifier.html">
	<meta property="og:type" content="application">

	<style>
		* {
			margin: 0;
			padding: 0;
			box-sizing: border-box;
		}

		body {
			font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
			background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
			min-height: 100vh;
			padding: 20px;
		}

		.container {
			max-width: 1200px;
			margin: 0 auto;
			background: rgba(255, 255, 255, 0.95);
			border-radius: 16px;
			box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
			backdrop-filter: blur(10px);
			overflow: hidden;
		}

		.header {
			background: linear-gradient(135deg, #4f46e5, #7c3aed);
			color: white;
			padding: 30px;
			text-align: center;
		}

		.header h1 {
			font-size: 2.5rem;
			font-weight: 700;
			margin-bottom: 10px;
		}

		.header p {
			font-size: 1.1rem;
			opacity: 0.9;
		}

		.content {
			padding: 30px;
		}

		.editor-container {
			display: grid;
			grid-template-columns: 1fr 1fr;
			gap: 20px;
			margin-bottom: 20px;
		}

		.editor-section {
			display: flex;
			flex-direction: column;
		}

		.editor-label {
			font-weight: 600;
			margin-bottom: 10px;
			color: #374151;
			font-size: 1.1rem;
		}

		.editor {
			flex: 1;
			min-height: 400px;
			border: 2px solid #e5e7eb;
			border-radius: 12px;
			padding: 16px;
			font-family: 'Consolas', 'Monaco', 'Courier New', monospace;
			font-size: 14px;
			line-height: 1.5;
			resize: vertical;
			transition: border-color 0.3s ease;
			background: #f9fafb;
		}

		.editor:focus {
			outline: none;
			border-color: #4f46e5;
			box-shadow: 0 0 0 3px rgba(79, 70, 229, 0.1);
		}

		.controls {
			display: flex;
			gap: 15px;
			justify-content: center;
			margin-bottom: 20px;
			flex-wrap: wrap;
		}

		.btn {
			padding: 12px 24px;
			border: none;
			border-radius: 8px;
			font-weight: 600;
			cursor: pointer;
			transition: all 0.3s ease;
			font-size: 14px;
		}

		.btn-primary {
			background: linear-gradient(135deg, #4f46e5, #7c3aed);
			color: white;
		}

		.btn-primary:hover {
			transform: translateY(-2px);
			box-shadow: 0 8px 20px rgba(79, 70, 229, 0.3);
		}

		.btn-secondary {
			background: #f3f4f6;
			color: #374151;
			border: 1px solid #d1d5db;
		}

		.btn-secondary:hover {
			background: #e5e7eb;
			transform: translateY(-1px);
		}

		.options {
			display: flex;
			gap: 20px;
			justify-content: center;
			margin-bottom: 20px;
			flex-wrap: wrap;
		}

		.option {
			display: flex;
			align-items: center;
			gap: 8px;
		}

		.option input[type="number"] {
			width: 60px;
			padding: 6px 8px;
			border: 1px solid #d1d5db;
			border-radius: 6px;
			font-size: 14px;
		}

		.option label {
			font-weight: 500;
			color: #374151;
		}

		.status {
			text-align: center;
			padding: 12px;
			margin-bottom: 20px;
			border-radius: 8px;
			font-weight: 500;
			transition: all 0.3s ease;
		}

		.status.success {
			background: #d1fae5;
			color: #065f46;
			border: 1px solid #a7f3d0;
		}

		.status.error {
			background: #fee2e2;
			color: #991b1b;
			border: 1px solid #fca5a5;
		}

		.status.hidden {
			opacity: 0;
			transform: translateY(-10px);
		}

		@media (max-width: 768px) {
			.editor-container {
				grid-template-columns: 1fr;
			}
			
			.controls, .options {
				flex-direction: column;
				align-items: center;
			}
			
			.header h1 {
				font-size: 2rem;
			}
			
			.content {
				padding: 20px;
			}
		}
	</style>
</head>
<body>
	<div class="container">
		<div class="header">
			<h1>Flexible JSON Beautifier</h1>
			<p>Format JSON/JavaScript objects without strict validation</p>
		</div>
		
		<div class="content">
			<div class="options">
				<div class="option">
					<label for="indentSize">Indent Size:</label>
					<input type="number" id="indentSize" value="2" min="1" max="8">
				</div>
			</div>
			
			<div class="controls">
				<button class="btn btn-primary" onclick="beautifyJSON()">Beautify</button>
				<button class="btn btn-secondary" onclick="minifyJSON()">Minify</button>
				<button class="btn btn-secondary" onclick="clearAll()">Clear All</button>
				<button class="btn btn-secondary" onclick="copyOutput()">Copy Output</button>
			</div>
			
			<div class="status hidden" id="status"></div>
			
			<div class="editor-container">
				<div class="editor-section">
					<div class="editor-label">Input JSON/JavaScript Object</div>
					<textarea class="editor" id="input" placeholder="Paste your JSON or JavaScript object here...
Example:
{name: 'John', age: 30, 123: 'numeric key', 'city': 'New York'}"></textarea>
				</div>
				
				<div class="editor-section">
					<div class="editor-label">Formatted Output</div>
					<textarea class="editor" id="output" readonly placeholder="Beautified output will appear here..."></textarea>
				</div>
			</div>
		</div>
	</div>

	<script>
		function showStatus(message, type) {
			const status = document.getElementById('status');
			status.textContent = message;
			status.className = `status ${type}`;
			
			setTimeout(() => {
				status.className = 'status hidden';
			}, 3000);
		}

		function beautifyJSON() {
			const input = document.getElementById('input').value.trim();
			const output = document.getElementById('output');
			const indentSize = parseInt(document.getElementById('indentSize').value) || 2;
			
			if (!input) {
				showStatus('Please enter some JSON to beautify', 'error');
				return;
			}
			
			try {
				const formatted = formatObject(input, indentSize);
				output.value = formatted;
				showStatus('Successfully beautified!', 'success');
			} catch (error) {
				showStatus(`Error: ${error.message}`, 'error');
			}
		}

		function minifyJSON() {
			const input = document.getElementById('input').value.trim();
			const output = document.getElementById('output');
			
			if (!input) {
				showStatus('Please enter some JSON to minify', 'error');
				return;
			}
			
			try {
				const minified = minifyObject(input);
				output.value = minified;
				showStatus('Successfully minified!', 'success');
			} catch (error) {
				showStatus(`Error: ${error.message}`, 'error');
			}
		}

		function formatObject(str, indentSize) {
			// Remove comments and clean up the string
			let cleaned = str.replace(/\/\*[\s\S]*?\*\/|\/\/.*$/gm, '').trim();
			
			let formatted = '';
			let indentLevel = 0;
			let inString = false;
			let stringChar = '';
			let i = 0;
			
			const indent = ' '.repeat(indentSize);
			
			while (i < cleaned.length) {
				const char = cleaned[i];
				const nextChar = cleaned[i + 1];
				
				if (!inString && (char === '"' || char === "'" || char === '`')) {
					inString = true;
					stringChar = char;
					formatted += char;
				} else if (inString && char === stringChar && cleaned[i - 1] !== '\\') {
					inString = false;
					stringChar = '';
					formatted += char;
				} else if (inString) {
					formatted += char;
				} else if (char === '{' || char === '[') {
					formatted += char;
					if (nextChar && nextChar !== '}' && nextChar !== ']') {
						indentLevel++;
						formatted += '\n' + indent.repeat(indentLevel);
					}
				} else if (char === '}' || char === ']') {
					if (formatted[formatted.length - 1] !== '\n') {
						indentLevel--;
						formatted += '\n' + indent.repeat(indentLevel);
					} else {
						indentLevel--;
						formatted = formatted.slice(0, -indentSize) || formatted.slice(0, -1);
						formatted += indent.repeat(indentLevel);
					}
					formatted += char;
				} else if (char === ',') {
					formatted += char;
					if (nextChar && nextChar !== '}' && nextChar !== ']') {
						formatted += '\n' + indent.repeat(indentLevel);
					}
				} else if (char === ':') {
					formatted += char + ' ';
				} else if (char === ' ' || char === '\t' || char === '\n' || char === '\r') {
					// Skip whitespace unless we're in a string
				} else {
					formatted += char;
				}
				
				i++;
			}
			
			return formatted;
		}

		function minifyObject(str) {
			// Remove comments and clean up the string
			let cleaned = str.replace(/\/\*[\s\S]*?\*\/|\/\/.*$/gm, '').trim();
			
			let minified = '';
			let inString = false;
			let stringChar = '';
			
			for (let i = 0; i < cleaned.length; i++) {
				const char = cleaned[i];
				
				if (!inString && (char === '"' || char === "'" || char === '`')) {
					inString = true;
					stringChar = char;
					minified += char;
				} else if (inString && char === stringChar && cleaned[i - 1] !== '\\') {
					inString = false;
					stringChar = '';
					minified += char;
				} else if (inString) {
					minified += char;
				} else if (char === ' ' || char === '\t' || char === '\n' || char === '\r') {
					// Skip whitespace unless we're in a string
				} else {
					minified += char;
				}
			}
			
			return minified;
		}

		function clearAll() {
			document.getElementById('input').value = '';
			document.getElementById('output').value = '';
			showStatus('Cleared all content', 'success');
		}

		function copyOutput() {
			const output = document.getElementById('output');
			if (!output.value) {
				showStatus('No output to copy', 'error');
				return;
			}
			
			output.select();
			document.execCommand('copy');
			showStatus('Output copied to clipboard!', 'success');
		}

		// Auto-beautify on input change with debounce
		let timeout;
		document.getElementById('input').addEventListener('input', function() {
			clearTimeout(timeout);
			timeout = setTimeout(() => {
				if (this.value.trim()) {
					beautifyJSON();
				}
			}, 1000);
		});

		// Allow tab key in textareas
		document.querySelectorAll('textarea').forEach(textarea => {
			textarea.addEventListener('keydown', function(e) {
				if (e.key === 'Tab') {
					e.preventDefault();
					const start = this.selectionStart;
					const end = this.selectionEnd;
					this.value = this.value.substring(0, start) + '\t' + this.value.substring(end);
					this.selectionStart = this.selectionEnd = start + 1;
				}
			});
		});
	</script>
</body>
</html>